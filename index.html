<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HELOISA HELLO GRIFF | PREMIUM GRIFF</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://sdk.mercadopago.com/js/v2"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Tenor+Sans&display=swap');

        :root {
            --bg-site: #f8f8f8; 
            --bg-card: #ffffff;
            --detalhe-silver: #d1d1d1;
            --texto-chumbo: #222222;
            --accent-silver: #a0a0a0;
            --mp-color: #009ee3;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --error-color: #e74c3c;
            --whatsapp-color: #25D366;
        }

        body {
            background-color: var(--bg-site);
            color: var(--texto-chumbo);
            font-family: 'Montserrat', sans-serif;
            margin: 0; padding: 0;
            overflow-x: hidden;
        }

        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5%; background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px); border-bottom: 1px solid var(--detalhe-silver);
            position: sticky; top: 0; z-index: 1000;
        }

        .brand-name {
            font-family: 'Tenor Sans', sans-serif; 
            font-size: clamp(1.1rem, 4vw, 1.5rem);
            letter-spacing: 4px; text-transform: uppercase;
        }

        .nav-tools { display: flex; align-items: center; gap: 15px; }
        .nav-tools a { color: var(--texto-chumbo); font-size: 1.1rem; }

        .cart-btn { position: relative; cursor: pointer; font-size: 1.2rem; }
        #cart-badge {
            position: absolute; top: -8px; right: -8px;
            background: var(--texto-chumbo); color: #fff;
            font-size: 9px; padding: 2px 5px; border-radius: 50%;
        }

        .products-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 25px; padding: 30px 5%; max-width: 1400px; margin: auto;
        }

        @media (max-width: 350px) {
            .products-grid { grid-template-columns: 1fr; }
        }

        .card {
            background: var(--bg-card); position: relative; overflow: hidden;
            transition: 0.4s ease; border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .card-img-container {
            width: 100%; 
            height: 320px; 
            overflow: hidden;
            position: relative;
            background: linear-gradient(45deg, #f5f5f5, #e8e8e8);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
            padding: 15px;
            box-sizing: border-box;
        }
        
        .card:hover .card-img { 
            transform: scale(1.05); 
        }

        .card-info { 
            padding: 18px; 
            text-align: center; 
            border-top: 1px solid #f0f0f0;
        }
        
        .card-info h3 { 
            font-size: 0.95rem; 
            margin: 0 0 8px 0;
            height: 42px; 
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            line-height: 1.3;
        }
        
        .card-info p { 
            font-weight: 700; 
            margin: 5px 0 12px 0; 
            font-size: 1.1rem; 
            color: #222;
        }
        
        .buy-btn {
            background: var(--texto-chumbo); 
            color: #fff; 
            border: none;
            width: 100%; 
            padding: 14px; 
            font-weight: 700; 
            letter-spacing: 1px;
            cursor: pointer; 
            margin-top: 5px; 
            font-size: 0.85rem;
            transition: all 0.3s ease;
            border-radius: 4px;
        }
        
        .buy-btn:hover { 
            background: #333; 
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .btn-mercadopago {
            background: var(--mp-color); 
            color: #fff; 
            border: none;
            width: 100%; 
            padding: 14px; 
            font-weight: 700; 
            letter-spacing: 1px;
            cursor: pointer; 
            margin-top: 10px; 
            font-size: 0.85rem;
            transition: all 0.3s ease;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-mercadopago:hover { 
            background: #0088cc; 
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 158, 227, 0.2);
        }
        
        .btn-mercadopago i { font-size: 1.1rem; }

        @media (min-width: 1024px) {
            .buy-overlay {
                position: absolute; 
                bottom: 70px; 
                left: 0; 
                right: 0;
                padding: 20px; 
                opacity: 0; 
                transition: 0.3s;
            }
            
            .card:hover .buy-overlay { 
                opacity: 1; 
                bottom: 80px; 
            }
            
            .card:hover { 
                transform: translateY(-8px); 
                box-shadow: 0 15px 30px rgba(0,0,0,0.08); 
            }
            
            .buy-btn, .btn-mercadopago { 
                width: 85%; 
                margin: 0 auto; 
                display: block; 
            }
        }

        /* Carrinho Lateral */
        #modal-cart {
            display: none; 
            position: fixed; 
            inset: 0;
            background: rgba(0,0,0,0.5); 
            z-index: 2000; 
            justify-content: flex-end;
        }

        .modal-box {
            background: white; 
            width: 85%; 
            max-width: 420px; 
            height: 100%;
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            box-sizing: border-box; 
            overflow-y: auto;
        }

        .cart-content-scroll { 
            flex: 1; 
            overflow-y: auto; 
            margin: 15px 0;
            padding: 10px 0;
            min-height: 300px;
        }

        .cart-item {
            display: flex; 
            justify-content: space-between; 
            align-items: flex-start;
            padding: 20px 0;
            border-bottom: 1px solid #f0f0f0; 
            font-size: 1rem;
            position: relative;
            min-height: 110px;
        }

        .item-details { 
            flex: 1; 
            margin-right: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .item-name { 
            font-weight: bold; 
            margin-bottom: 8px;
            font-size: 1rem;
            line-height: 1.3;
        }
        
        .item-price { 
            color: #666; 
            font-size: 0.95rem;
            margin-bottom: 8px;
        }
        
        .item-total {
            color: #222; 
            font-weight: bold; 
            font-size: 1rem;
            background-color: #f8f8f8;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 5px;
        }
        
        .qty-controls { 
            display: flex; 
            align-items: center; 
            gap: 12px;
            background: #f8f8f8; 
            padding: 10px 15px;
            border-radius: 25px;
            min-width: 130px;
            justify-content: center;
            height: fit-content;
            margin-top: 5px;
        }
        
        .btn-qty { 
            border: none; 
            background: #fff; 
            width: 32px;
            height: 32px;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            cursor: pointer; 
            border-radius: 50%; 
            font-weight: bold;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 1.1rem;
            color: #333;
            transition: all 0.2s ease;
        }
        
        .btn-qty:hover { 
            background: #eee; 
            transform: scale(1.1);
        }
        
        .qty-number { 
            min-width: 35px;
            text-align: center; 
            font-weight: bold; 
            font-size: 1.1rem;
        }
        
        .remove-item {
            position: absolute; 
            top: 15px;
            right: 0;
            background: none; 
            border: none; 
            color: #ff4444; 
            cursor: pointer;
            font-size: 1.1rem;
            width: 25px;
            height: 25px;
            display: flex; 
            align-items: center; 
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        .remove-item:hover { 
            color: #ff0000; 
            transform: scale(1.2);
        }

        .empty-cart {
            text-align: center; 
            padding: 40px 20px; 
            color: #999;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            justify-content: center;
            min-height: 300px;
        }
        
        .empty-cart i { 
            font-size: 3.5rem;
            margin-bottom: 20px; 
            opacity: 0.5; 
        }
        
        .empty-cart p { 
            margin: 0; 
            font-size: 1rem;
        }

        .cart-header {
            display:flex; 
            justify-content:space-between; 
            align-items:center; 
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .cart-header h2 {
            font-family:'Tenor Sans'; 
            margin:0; 
            font-size:1.4rem;
            font-weight: bold;
        }

        .checkout-form h4 { 
            font-size: 0.8rem;
            margin: 20px 0 10px;
            color: var(--accent-silver); 
            text-transform: uppercase;
        }
        
        .checkout-input {
            width: 100%; 
            padding: 14px 0;
            margin-bottom: 12px;
            border: none; 
            border-bottom: 1px solid #eee; 
            outline: none; 
            font-size: 0.95rem;
            background: transparent;
        }
        
        .checkout-input:focus { 
            border-bottom-color: #222; 
            border-bottom-width: 2px;
        }
        
        .form-row { 
            display: flex; 
            gap: 12px;
            margin-bottom: 12px; 
}
        
        .form-row .checkout-input { 
            margin-bottom: 0; 
        }

        .btn-final {
            background: #000; 
            color: #fff; 
            width: 100%; 
            padding: 20px;
            border: none; 
            font-weight: 700; 
            cursor: pointer; 
            margin-top: 25px;
            font-size: 1rem;
            letter-spacing: 1.5px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .btn-final:hover { 
            background: #333; 
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .payment-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 20px;
        }

        .frete-section { 
            margin: 20px 0;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        
        .cep-input { 
            display: flex; 
            gap: 12px;
        }
        
        .cep-input input { 
            flex: 1; 
            font-size: 0.95rem;
        }
        
        .btn-calcular { 
            background: #333; 
            color: white; 
            border: none; 
            padding: 12px 20px;
            cursor: pointer; 
            font-size: 0.85rem;
            border-radius: 4px;
            white-space: nowrap;
            transition: all 0.2s ease;
        }
        
        .btn-calcular:disabled { 
            background: #ccc; 
            cursor: not-allowed; 
        }
        
        .btn-calcular:hover:not(:disabled) { 
            background: #222; 
            transform: translateY(-1px);
        }
        
        .loading { 
            display: none; 
            font-size: 0.9rem;
            color: #666;
            padding: 12px 0;
        }
        
        .opcoes-frete { 
            margin-top: 15px;
        }
        
        .opcao-frete {
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px;
            border: 1px solid #eee; 
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer; 
            margin-bottom: 10px;
            transition: all 0.2s;
        }
        
        .opcao-frete:hover { 
            border-color: #222; 
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        
        .opcao-frete.selected { 
            background-color: #f8f8f8; 
            border-color: #222;
            border-width: 2px;
        }
        
        .frete-info { 
            flex: 1; 
        }
        
        .frete-nome { 
            font-weight: bold; 
            font-size: 0.95rem;
        }
        
        .frete-prazo { 
            color: #666; 
            font-size: 0.85rem;
            margin-top: 4px; 
        }
        
        .frete-valor { 
            font-weight: bold; 
            white-space: nowrap;
            font-size: 1rem;
        }

        .order-summary {
            margin-top: 25px; 
            padding: 20px;
            background: #f9f9f9; 
            border-radius: 8px;
            border: 1px solid #eee;
        }
        
        .summary-row {
            display: flex; 
            justify-content: space-between; 
            font-size: 1rem;
            margin-bottom: 8px;
        }
        
        .summary-total {
            display: flex; 
            justify-content: space-between; 
            font-size: 1.2rem;
            font-weight: bold; 
            margin-top: 15px; 
            padding-top: 15px; 
            border-top: 2px solid #eee;
        }

        footer { 
            background: #fff; 
            padding: 40px 5%; 
            border-top: 1px solid #eee; 
        }
        
        .footer-grid {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 30px;
        }
        
        .faq-item { 
            border-bottom: 1px solid #f9f9f9; 
            padding: 15px 0;
            font-size: 0.9rem;
            cursor: pointer; 
        }
        
        .faq-answer { 
            display: none; 
            font-size: 0.85rem;
            color: #888; 
            padding-top: 10px;
        }

        .cart-icon-large {
            font-size: 4rem;
            color: #ddd;
            margin-bottom: 20px;
        }

        @media (max-width: 480px) {
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px 0;
            }
            
            .item-details {
                margin-right: 0;
                margin-bottom: 15px;
                width: 100%;
            }
            
            .qty-controls {
                align-self: flex-start;
            }
            
            .remove-item {
                top: 10px;
                right: 0;
            }
            
            .modal-box {
                width: 95%;
                padding: 15px;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .cart-item {
            animation: fadeIn 0.3s ease-out;
        }

        /* Status de pagamento */
        .payment-status {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 4000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        .payment-status.success {
            background: rgba(46, 204, 113, 0.97);
        }
        
        .payment-status.error {
            background: rgba(231, 76, 60, 0.97);
        }
        
        .payment-status.whatsapp {
            background: rgba(37, 211, 102, 0.97);
        }
        
        .status-icon {
            font-size: 5rem;
            margin-bottom: 25px;
            animation: bounce 1s ease infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .status-message {
            font-size: 1.4rem;
            margin-bottom: 30px;
            max-width: 600px;
            line-height: 1.5;
            font-weight: 600;
        }
        
        .status-details {
            background: rgba(255,255,255,0.15);
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            max-width: 600px;
            text-align: left;
            font-size: 0.95rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .whatsapp-redirect {
            background: #25D366;
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 30px;
            transition: all 0.3s ease;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.3);
        }
        
        .whatsapp-redirect:hover {
            background: #1da851;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4);
        }
        
        .payment-processing {
            background: rgba(243, 156, 18, 0.97);
        }
        
        .processing-spinner {
            border: 6px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 6px solid white;
            width: 70px;
            height: 70px;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .btn-close-status {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.4);
            padding: 12px 30px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
            font-weight: 600;
            backdrop-filter: blur(5px);
        }
        
        .btn-close-status:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.6);
        }
        
        .order-number {
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1.1rem;
            margin: 15px 0;
            display: inline-block;
            letter-spacing: 1px;
        }
        
        .important-note {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.9rem;
            border-left: 4px solid #ffd700;
        }
        
        .btn-whatsapp-checkout {
            background: var(--whatsapp-color);
            color: white;
            border: none;
            width: 100%;
            padding: 18px;
            font-weight: 700;
            letter-spacing: 1px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-whatsapp-checkout:hover {
            background: #1da851;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
        }
        
        .btn-whatsapp-checkout i {
            font-size: 1.3rem;
        }
    </style>
</head>
<body>

<header>
    <div class="brand-name">HELOISA HELLO GRIFF</div>
    <div class="nav-tools">
        <a href="#" onclick="abrirWhatsAppSuporte(); return false;" target="_blank" rel="noopener noreferrer"><i class="fab fa-whatsapp"></i></a>
        <a href="#" onclick="abrirInstagram(); return false;" target="_blank" rel="noopener noreferrer"><i class="fab fa-instagram"></i></a>
        <div class="cart-btn" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span id="cart-badge">0</span>
        </div>
    </div>
</header>

<div class="products-grid" id="shop-grid">
    <!-- Produtos ser√£o carregados via JavaScript -->
</div>

<div id="modal-cart">
    <div class="modal-box">
        <div class="cart-header">
            <h2>SEU CARRINHO</h2>
            <i class="fas fa-times" onclick="toggleCart()" style="cursor:pointer; font-size:1.3rem;"></i>
        </div>

        <div class="cart-content-scroll" id="cart-content">
            <!-- Itens do carrinho ser√£o inseridos aqui -->
        </div>

        <div class="checkout-form">
            <div class="frete-section">
                <h4>Calcular Frete</h4>
                <div class="cep-input">
                    <input type="text" id="cep-input" class="checkout-input" placeholder="Digite seu CEP" maxlength="9">
                    <button class="btn-calcular" onclick="calcularFreteReal()" id="btn-calcular">CALCULAR</button>
                </div>
                <div id="frete-loading" class="loading">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Consultando fretes dispon√≠veis...</span>
                    </div>
                </div>
                <div id="opcoes-frete" class="opcoes-frete"></div>
                <div id="frete-error" style="display:none; color:#e74c3c; font-size:0.9rem; margin-top:8px;"></div>
            </div>

            <h4>Seus Dados</h4>
            <input type="text" id="c-nome" class="checkout-input" placeholder="Nome Completo *" required>
            <input type="email" id="c-email" class="checkout-input" placeholder="E-mail *" required>
            <input type="tel" id="c-tel" class="checkout-input" placeholder="Telefone/WhatsApp *" required>
            
            <h4>Endere√ßo</h4>
            <div style="font-size: 0.85rem; color: #666; margin-bottom: 12px; padding: 8px; background: #f9f9f9; border-radius: 4px;">
                <i class="fas fa-info-circle"></i> Endere√ßo ser√° preenchido automaticamente pelo CEP
            </div>
            <input type="text" id="c-cep" class="checkout-input" placeholder="CEP *" readonly>
            <div class="form-row">
                <input type="text" id="c-num" class="checkout-input" placeholder="N√∫mero *" style="width:40%">
                <input type="text" id="c-comp" class="checkout-input" placeholder="Complemento (opcional)" style="width:60%">
            </div>

            <div class="payment-buttons">
                <button class="btn-whatsapp-checkout" onclick="enviarPedidoWhatsApp()">
                    <i class="fab fa-whatsapp"></i> FINALIZAR PEDIDO VIA WHATSAPP
                </button>
            </div>
            
            <div style="margin-top: 15px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #25D366;">
                <p style="margin: 0; font-size: 0.85rem; color: #555;">
                    <i class="fas fa-info-circle" style="color: #25D366;"></i> 
                    <strong>Como funciona:</strong> Ap√≥s finalizar o pedido pelo WhatsApp, voc√™ receber√° o link de pagamento em minutos. Ap√≥s o pagamento, envie o comprovante pelo mesmo WhatsApp.
                </p>
            </div>
        </div>

        <div class="order-summary">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="subtotal">R$ 0,00</span>
            </div>
            <div class="summary-row">
                <span>Frete:</span>
                <span id="frete-total">R$ 0,00</span>
            </div>
            <div class="summary-row" id="taxa-adicional-row" style="display:none;">
                <span>Taxa Adicional:</span>
                <span id="taxa-adicional">R$ 0,00</span>
            </div>
            <div class="summary-total">
                <span>TOTAL:</span>
                <span id="total-final">R$ 0,00</span>
            </div>
        </div>
    </div>
</div>

<div id="paymentStatus" class="payment-status">
    <div class="processing-spinner" id="processingSpinner"></div>
    <div id="statusIcon" class="status-icon"></div>
    <h2 id="statusTitle" style="margin-bottom: 20px;"></h2>
    <div id="statusMessage" class="status-message"></div>
    <div id="statusDetails" class="status-details" style="display:none;"></div>
    <button id="whatsappButton" class="whatsapp-redirect" style="display:none;" onclick="abrirWhatsAppPagamento()">
        <i class="fab fa-whatsapp"></i> IR PARA WHATSAPP PARA PAGAMENTO
    </button>
    <div id="orderNumberDisplay" class="order-number" style="display:none;"></div>
    <div id="importantNote" class="important-note" style="display:none;"></div>
    <button id="closeStatusButton" class="btn-close-status" style="display:none;" onclick="closePaymentStatus()">
        FECHAR
    </button>
</div>

<footer>
    <div class="footer-grid">
        <div>
            <h4 style="font-size:0.9rem; letter-spacing:1px;">SUPORTE</h4>
            <div class="faq-item" onclick="toggleFAQ(this)">
                <span>Rastreio de Pedido <i class="fas fa-chevron-down" style="font-size:0.8rem; float:right;"></i></span>
                <p class="faq-answer">Enviamos o c√≥digo via WhatsApp logo ap√≥s a postagem nos Correios.</p>
            </div>
            <div class="faq-item" onclick="toggleFAQ(this)">
                <span>Pol√≠ticas de Troca <i class="fas fa-chevron-down" style="font-size:0.8rem; float:right;"></i></span>
                <p class="faq-answer">Voc√™ tem at√© 7 dias para trocas por tamanho ou defeito de f√°brica.</p>
            </div>
        </div>
        <div>
            <h4 style="font-size:0.9rem; letter-spacing:1px;">SEGURAN√áA</h4>
            <div style="font-size:1.5rem; gap:15px; display:flex; margin-bottom:10px;">
                <i class="fab fa-cc-visa"></i> <i class="fab fa-cc-mastercard"></i> <i class="fas fa-pix"></i>
            </div>
            <p style="font-size:0.8rem; color:#999;">Ambiente criptografado e seguro para suas compras.</p>
        </div>
    </div>
</footer>

<script>
    // CONFIGURA√á√ïES (AJUSTE AQUI!)
    const CONFIG = {
        WHATSAPP_NUMBER: '5516993830355', // SEU N√öMERO DO WHATSAPP COM DDI (ex: 5516993830355)
        WHATSAPP_SUPORTE: '5516993830355', // N√∫mero para suporte
        INSTAGRAM_URL: 'https://www.instagram.com/hellogriffoficial/',
        MP_PUBLIC_KEY: 'APP_USR-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx', // Sua Public Key do Mercado Pago
        LOJA_NOME: 'HELOISA HELLO GRIFF',
        LOJA_ENDERECO: 'Rua Augusto Hon√≥rio, 992 - Franca/SP',
        LOJA_TELEFONE: '(16) 99383-0355',
        EMAIL_VENDAS: 'vendas@heloisagriff.com.br',
        CEP_LOJA: '14400000', // CEP de Franca/SP
        // Dimens√µes padr√£o dos produtos
        DIMENSOES: {
            altura: 10,   // cm
            largura: 20,  // cm
            comprimento: 30, // cm
            peso: 1.0     // kg
        },
        TAXA_ADICIONAL: 20.00 // Taxa adicional de R$20,00 para fretes
    };

    // LISTA DE PRODUTOS (mantendo seus produtos)
    const products = [
        {id: 1, name: "Bolsa Antonella", price: 249.90, img: "https://drive.google.com/thumbnail?id=1wp3IW2H9BCIr_5QvDe4kHI_um5ZbAHGy&sz=w1000"},
        {id: 2, name: "Bolsa Aurora", price: 259.90, img: "https://drive.google.com/thumbnail?id=1uWyOSpl9aShUzBTQ1tJT38FJry8vtf23&sz=w1000"},
        {id: 3, name: "Bolsa Bella", price: 269.90, img: "https://drive.google.com/thumbnail?id=1aWeFzLUEXtH5XQLeuhuBGQLqN1RAzyyJ&sz=w1000"},
        {id: 4, name: "Bolsa Bia", price: 279.90, img: "https://drive.google.com/thumbnail?id=1hiIWkD__rGEXLVgtMa-cxx6FKey_djyH&sz=w1000"},
        {id: 5, name: "Bolsa Carmem", price: 289.90, img: "https://drive.google.com/thumbnail?id=1pa33tfa2438Wqkp4OMnBobASeP6jqiZE&sz=w1000"},
        {id: 6, name: "Bolsa Chiara", price: 299.90, img: "https://drive.google.com/thumbnail?id=14m1D4f4_lDjVWn68WW7eKSC28U2ubvva&sz=w1000"},
        {id: 7, name: "Bolsa Elisa", price: 309.90, img: "https://drive.google.com/thumbnail?id=1IjVr0XIoVXfll_4tJsTltlFM972FmM7Z&sz=w1000"},
        {id: 8, name: "Bolsa Gaby", price: 319.90, img: "https://drive.google.com/thumbnail?id=1S_C8LLvtiGcJQ6zhpSHWqvst4FYD2yeg&sz=w1000"},
        {id: 9, name: "Bolsa Griff", price: 329.90, img: "https://drive.google.com/thumbnail?id=1um_ruVTfOc64ixM92LC_gUiTrH8Zvt3a&sz=w1000"},
        {id: 10, name: "Bolsa Helena", price: 339.90, img: "https://drive.google.com/thumbnail?id=1-zsY9LAwdd4jVvZk2BaEMGAbXm3CFm4M&sz=w1000"},
        {id: 11, name: "Bolsa Hello", price: 349.90, img: "https://drive.google.com/thumbnail?id=1AEFkib7dzs1bZPfqLo663aBUmY7FOcLy&sz=w1000"},
        {id: 12, name: "Bolsa Lais", price: 359.90, img: "https://drive.google.com/thumbnail?id=1kDFxzSKZn1ljFXx1cEZHt1b-8dSFXlGZ&sz=w1000"},
        {id: 13, name: "Bolsa Lari", price: 369.90, img: "https://drive.google.com/thumbnail?id=1DPHD_Khcc0hgFumV_UR8I7mRT0cbAvRp&sz=w1000"},
        {id: 14, name: "Bolsa Maya", price: 379.90, img: "https://drive.google.com/thumbnail?id=1zXtLttvLh2p5IM8Yn-lY-zi5wRCzTL6-&sz=w1000"},
        {id: 15, name: "Bolsa Mia", price: 389.90, img: "https://drive.google.com/thumbnail?id=1zyZeFCfXDzR6tVoN48ZtoKLLYWlAywaE&sz=w1000"},
        {id: 16, name: "Bolsa Suely", price: 399.90, img: "https://drive.google.com/thumbnail?id=1OjHY0EHewYGoz6N_Dwvew0fBXF9rKVvJ&sz=w1000"},
        {id: 17, name: "Bolsa Valentina", price: 409.90, img: "https://drive.google.com/thumbnail?id=1ijRGne1D4V5APChcbtqvijNOQPdBYOue&sz=w1000"},
        {id: 18, name: "Bolsa Vitoria", price: 419.90, img: "https://drive.google.com/thumbnail?id=1AUIImcXP6XwaqLEl_P6NvU5RK8nJNWf3&sz=w1000"},
        {id: 19, name: "Carteira", price: 129.90, img: "https://drive.google.com/thumbnail?id=1Dayic6UtKTnq75a-clc2gzBGDOT7FtUB&sz=w1000"}
    ];

    // Adicionar dimens√µes padr√£o a todos os produtos
    products.forEach(p => {
        p.altura = CONFIG.DIMENSOES.altura;
        p.largura = CONFIG.DIMENSOES.largura;
        p.comprimento = CONFIG.DIMENSOES.comprimento;
        p.peso = CONFIG.DIMENSOES.peso;
    });

    const fallbackImages = [
        "https://images.unsplash.com/photo-1584917865442-de89df76afd3?w=500&auto=format&fit=crop&q=60",
        "https://images.unsplash.com/photo-1594035910387-fea47794261f?w=500&auto=format&fit=crop&q=60",
        "https://images.unsplash.com/photo-1547949003-9792a18a2601?w=500&auto=format&fit=crop&q=60"
    ];

    let cart = {};
    let freteSelecionado = null;
    let cepDestino = '';
    let enderecoCliente = {};
    let currentOrderId = null;
    let taxaAdicional = 0;

    // FUN√á√ïES PRINCIPAIS
    function initStore() {
        const grid = document.getElementById('shop-grid');
        grid.innerHTML = '';
        
        products.forEach((p, index) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-img-container">
                    <img src="${p.img}" 
                         alt="${p.name}" 
                         class="card-img" 
                         loading="lazy"
                         data-product-id="${p.id}"
                         data-fallback-index="${index}">
                </div>
                <div class="buy-overlay">
                    <button class="buy-btn" onclick="addToCart(${p.id})">ADICIONAR</button>
                </div>
                <div class="card-info">
                    <h3>${p.name}</h3>
                    <p>R$ ${p.price.toFixed(2).replace('.', ',')}</p>
                    <button class="buy-btn" style="display:none;" id="mb-btn-${p.id}" onclick="addToCart(${p.id})">ADICIONAR</button>
                </div>
            `;
            
            grid.appendChild(card);
        });
        
        setTimeout(() => {
            const images = document.querySelectorAll('.card-img');
            images.forEach((img, index) => {
                const productId = parseInt(img.getAttribute('data-product-id'));
                const fallbackIndex = parseInt(img.getAttribute('data-fallback-index'));
                loadImageWithFallback(img, productId, fallbackIndex);
            });
            
            if(window.innerWidth < 1024) {
                products.forEach(p => {
                    const btn = document.getElementById(`mb-btn-${p.id}`);
                    if(btn) btn.style.display = 'block';
                });
            }
        }, 100);
    }

    function addToCart(id) {
        if (cart[id]) { 
            cart[id].qty++; 
        } else { 
            const p = products.find(x => x.id === id); 
            cart[id] = { ...p, qty: 1 }; 
        }
        renderCartUI();
        updateModal();
        updateTotais();
        showNotification(`${products.find(x => x.id === id).name} adicionado ao carrinho!`);
    }

    function changeQty(id, delta) {
        if (cart[id]) {
            cart[id].qty += delta;
            if (cart[id].qty <= 0) {
                removeFromCart(id);
            } else {
                renderCartUI();
                updateModal();
                updateTotais();
                if (cepDestino) calcularFreteReal();
            }
        }
    }

    function removeFromCart(id) {
        const productName = cart[id]?.name || '';
        delete cart[id];
        renderCartUI();
        updateModal();
        updateTotais();
        showNotification(`${productName} removido do carrinho!`);
        if (cepDestino) calcularFreteReal();
    }

    function showNotification(message) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #222;
            color: white;
            padding: 12px 20px;
            border-radius: 4px;
            z-index: 9999;
            font-size: 0.9rem;
            animation: slideIn 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    }

    function renderCartUI() {
        const totalItems = Object.values(cart).reduce((a, b) => a + b.qty, 0);
        document.getElementById('cart-badge').innerText = totalItems;
    }

    function toggleCart() {
        const m = document.getElementById('modal-cart');
        m.style.display = (m.style.display === 'flex') ? 'none' : 'flex';
        updateModal();
        updateTotais();
    }

    function updateModal() {
        const content = document.getElementById('cart-content');
        content.innerHTML = "";
        
        if (Object.keys(cart).length === 0) {
            content.innerHTML = `
                <div class="empty-cart">
                    <i class="fas fa-shopping-cart cart-icon-large"></i>
                    <p style="font-size: 1.1rem; font-weight: bold; margin-bottom: 10px;">Seu carrinho est√° vazio</p>
                    <p style="font-size:0.9rem; margin-top:10px; color: #888;">Adicione produtos clicando em "ADICIONAR"</p>
                </div>`;
            return;
        }
        
        const cartItems = Object.values(cart);
        
        cartItems.forEach(item => {
            const itemTotal = (item.price * item.qty).toFixed(2);
            
            const cartItemDiv = document.createElement('div');
            cartItemDiv.className = 'cart-item';
            cartItemDiv.innerHTML = `
                <div class="item-details">
                    <div class="item-name">${item.name}</div>
                    <div class="item-price">R$ ${item.price.toFixed(2).replace('.', ',')} cada</div>
                    <div class="item-total">R$ ${itemTotal.replace('.', ',')} total</div>
                </div>
                <div class="qty-controls">
                    <button class="btn-qty" onclick="changeQty(${item.id}, -1)">-</button>
                    <span class="qty-number">${item.qty}</span>
                    <button class="btn-qty" onclick="changeQty(${item.id}, 1)">+</button>
                </div>
                <button class="remove-item" onclick="removeFromCart(${item.id})" title="Remover item">
                    <i class="fas fa-times"></i>
                </button>
            `;
            content.appendChild(cartItemDiv);
        });
    }

    function updateTotais() {
        const subtotal = Object.values(cart).reduce((total, item) => total + (item.price * item.qty), 0);
        const freteValor = freteSelecionado ? parseFloat(freteSelecionado.price) : 0;
        const total = subtotal + freteValor + taxaAdicional;
        
        document.getElementById('subtotal').textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;
        document.getElementById('frete-total').textContent = freteSelecionado ? `R$ ${freteSelecionado.price.toFixed(2).replace('.', ',')}` : 'R$ 0,00';
        
        if (taxaAdicional > 0) {
            document.getElementById('taxa-adicional-row').style.display = 'flex';
            document.getElementById('taxa-adicional').textContent = `R$ ${taxaAdicional.toFixed(2).replace('.', ',')}`;
        } else {
            document.getElementById('taxa-adicional-row').style.display = 'none';
        }
        
        document.getElementById('total-final').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
    }

    // C√ÅLCULO DE FRETE REAL COM API DOS CORREIOS
    async function calcularFreteReal() {
        const cepInput = document.getElementById('cep-input');
        let cep = cepInput.value.replace(/\D/g, '');
        
        if (cep.length !== 8) {
            mostrarErroFrete("CEP inv√°lido. Digite 8 n√∫meros.");
            return;
        }
        
        if (Object.keys(cart).length === 0) {
            mostrarErroFrete("Adicione produtos ao carrinho primeiro.");
            return;
        }
        
        cepDestino = cep;
        cepInput.value = `${cep.substring(0,5)}-${cep.substring(5)}`;
        
        document.getElementById('btn-calcular').disabled = true;
        document.getElementById('frete-loading').style.display = 'block';
        document.getElementById('opcoes-frete').innerHTML = '';
        document.getElementById('frete-error').style.display = 'none';
        
        // Resetar taxa adicional
        taxaAdicional = 0;
        
        try {
            // Consultar CEP para obter endere√ßo
            const viaCepResponse = await fetch(`https://viacep.com.br/ws/${cepDestino}/json/`);
            const dadosCep = await viaCepResponse.json();
            
            if (dadosCep.erro) {
                throw new Error("CEP n√£o encontrado");
            }
            
            document.getElementById('c-cep').value = dadosCep.cep;
            
            enderecoCliente = {
                cep: dadosCep.cep,
                rua: dadosCep.logradouro,
                bairro: dadosCep.bairro,
                cidade: dadosCep.localidade,
                estado: dadosCep.uf
            };
            
            // Verificar se √© Franca/SP
            const isFranca = (dadosCep.localidade === 'Franca' && dadosCep.uf === 'SP') || cepDestino.startsWith('14400');
            
            // Op√ß√µes de frete
            const opcoes = [];
            
            // Op√ß√£o 1: Retirada na Loja (sempre dispon√≠vel)
            opcoes.push({
                id: 'retirada',
                name: 'üè™ Retirada na Loja',
                price: 0,
                delivery_time: 'Mesmo dia (ap√≥s confirma√ß√£o)',
                company: 'Loja',
                details: CONFIG.LOJA_ENDERECO,
                isFranca: true
            });
            
            // Op√ß√£o 2: Frete Franca fixo R$25,00
            if (isFranca) {
                opcoes.push({
                    id: 'franca',
                    name: 'üöö Entrega em Franca',
                    price: 25.00,
                    delivery_time: '1-2 dias √∫teis',
                    company: 'Entrega Local',
                    details: 'Entrega em Franca/SP',
                    isFranca: true
                });
            }
            
            // Op√ß√£o 3: Frete para todo Brasil (com c√°lculo real + taxa adicional)
            try {
                // Simular c√°lculo dos Correios com base no CEP
                // Em produ√ß√£o, voc√™ usaria a API oficial dos Correios
                const freteBrasil = await calcularFreteCorreios(cepDestino, dadosCep.uf);
                
                // Adicionar taxa adicional de R$20,00
                const freteComTaxa = freteBrasil.price + CONFIG.TAXA_ADICIONAL;
                taxaAdicional = CONFIG.TAXA_ADICIONAL;
                
                opcoes.push({
                    id: 'brasil',
                    name: 'üì¶ Frete para Todo Brasil',
                    price: freteComTaxa,
                    delivery_time: freteBrasil.delivery_time,
                    company: 'Correios',
                    details: `Frete calculado + taxa de R$ ${CONFIG.TAXA_ADICIONAL.toFixed(2).replace('.', ',')}`,
                    isFranca: false,
                    freteOriginal: freteBrasil.price
                });
                
            } catch (error) {
                console.error("Erro no c√°lculo do frete:", error);
                // Fallback com valores padr√£o + taxa
                const valorBase = calcularValorFretePorRegiao(dadosCep.uf);
                const freteComTaxa = valorBase + CONFIG.TAXA_ADICIONAL;
                taxaAdicional = CONFIG.TAXA_ADICIONAL;
                
                opcoes.push({
                    id: 'brasil',
                    name: 'üì¶ Frete para Todo Brasil',
                    price: freteComTaxa,
                    delivery_time: `${obterPrazoEntrega(dadosCep.uf)}`,
                    company: 'Correios',
                    details: `Frete aproximado + taxa de R$ ${CONFIG.TAXA_ADICIONAL.toFixed(2).replace('.', ',')}`,
                    isFranca: false,
                    freteOriginal: valorBase
                });
            }
            
            mostrarOpcoesFrete(opcoes);
            
        } catch (error) {
            console.error("Erro ao calcular frete:", error);
            mostrarErroFrete("Erro ao consultar CEP. Tente novamente.");
        } finally {
            document.getElementById('btn-calcular').disabled = false;
            document.getElementById('frete-loading').style.display = 'none';
        }
    }

    async function calcularFreteCorreios(cepDestino, uf) {
        // Simula√ß√£o de c√°lculo dos Correios baseado no CEP e UF
        // Em produ√ß√£o, voc√™ deve usar a API oficial dos Correios
        
        // Tabela de pre√ßos base por regi√£o (valores aproximados para demonstra√ß√£o)
        const precosPorRegiao = {
            'SP': 25.90,
            'MG': 32.90,
            'RJ': 34.90,
            'ES': 36.90,
            'PR': 30.90,
            'SC': 33.90,
            'RS': 35.90,
            'DF': 42.90,
            'GO': 39.90,
            'MT': 45.90,
            'MS': 42.90,
            'BA': 44.90,
            'SE': 45.90,
            'AL': 46.90,
            'PE': 47.90,
            'PB': 48.90,
            'RN': 49.90,
            'CE': 50.90,
            'PI': 47.90,
            'MA': 49.90,
            'AM': 59.90,
            'PA': 54.90,
            'TO': 51.90,
            'RO': 53.90,
            'AC': 62.90,
            'AP': 64.90,
            'RR': 66.90
        };
        
        const valorBase = precosPorRegiao[uf] || 45.90;
        
        // Ajustar pelo peso do pedido
        const pesoTotal = Object.values(cart).reduce((total, item) => total + (item.peso * item.qty), 0);
        const fatorPeso = pesoTotal > 1 ? 1 + (pesoTotal - 1) * 0.3 : 1;
        const valorFinal = valorBase * fatorPeso;
        
        // Prazo de entrega por regi√£o
        const prazos = {
            'SP': '2-5 dias √∫teis',
            'MG': '3-7 dias √∫teis',
            'RJ': '3-7 dias √∫teis',
            'ES': '4-8 dias √∫teis',
            'PR': '3-6 dias √∫teis',
            'SC': '4-8 dias √∫teis',
            'RS': '4-8 dias √∫teis',
            'DF': '5-10 dias √∫teis',
            'GO': '5-10 dias √∫teis',
            'MT': '6-12 dias √∫teis',
            'MS': '6-12 dias √∫teis',
            'BA': '7-14 dias √∫teis',
            'SE': '7-14 dias √∫teis',
            'AL': '7-14 dias √∫teis',
            'PE': '7-14 dias √∫teis',
            'PB': '8-15 dias √∫teis',
            'RN': '8-15 dias √∫teis',
            'CE': '8-15 dias √∫teis',
            'PI': '9-16 dias √∫teis',
            'MA': '9-16 dias √∫teis',
            'AM': '10-18 dias √∫teis',
            'PA': '9-16 dias √∫teis',
            'TO': '8-14 dias √∫teis',
            'RO': '9-15 dias √∫teis',
            'AC': '12-20 dias √∫teis',
            'AP': '12-20 dias √∫teis',
            'RR': '12-20 dias √∫teis'
        };
        
        return {
            price: Math.round(valorFinal * 100) / 100,
            delivery_time: prazos[uf] || '7-14 dias √∫teis'
        };
    }

    function calcularValorFretePorRegiao(uf) {
        const valores = {
            'SP': 25.90,
            'MG': 32.90,
            'RJ': 34.90,
            'ES': 36.90,
            'PR': 30.90,
            'SC': 33.90,
            'RS': 35.90,
            'DF': 42.90,
            'GO': 39.90,
            'MT': 45.90,
            'MS': 42.90,
            'BA': 44.90,
            'SE': 45.90,
            'AL': 46.90,
            'PE': 47.90,
            'PB': 48.90,
            'RN': 49.90,
            'CE': 50.90,
            'PI': 47.90,
            'MA': 49.90,
            'AM': 59.90,
            'PA': 54.90,
            'TO': 51.90,
            'RO': 53.90,
            'AC': 62.90,
            'AP': 64.90,
            'RR': 66.90
        };
        return valores[uf] || 45.90;
    }

    function obterPrazoEntrega(uf) {
        const prazos = {
            'SP': '2-5 dias √∫teis',
            'MG': '3-7 dias √∫teis',
            'RJ': '3-7 dias √∫teis',
            'ES': '4-8 dias √∫teis',
            'PR': '3-6 dias √∫teis',
            'SC': '4-8 dias √∫teis',
            'RS': '4-8 dias √∫teis',
            'DF': '5-10 dias √∫teis',
            'GO': '5-10 dias √∫teis',
            'MT': '6-12 dias √∫teis',
            'MS': '6-12 dias √∫teis',
            'BA': '7-14 dias √∫teis',
            'SE': '7-14 dias √∫teis',
            'AL': '7-14 dias √∫teis',
            'PE': '7-14 dias √∫teis',
            'PB': '8-15 dias √∫teis',
            'RN': '8-15 dias √∫teis',
            'CE': '8-15 dias √∫teis',
            'PI': '9-16 dias √∫teis',
            'MA': '9-16 dias √∫teis',
            'AM': '10-18 dias √∫teis',
            'PA': '9-16 dias √∫teis',
            'TO': '8-14 dias √∫teis',
            'RO': '9-15 dias √∫teis',
            'AC': '12-20 dias √∫teis',
            'AP': '12-20 dias √∫teis',
            'RR': '12-20 dias √∫teis'
        };
        return prazos[uf] || '7-14 dias √∫teis';
    }

    function mostrarOpcoesFrete(opcoes) {
        const container = document.getElementById('opcoes-frete');
        container.innerHTML = '';
        
        opcoes.forEach(opcao => {
            const div = document.createElement('div');
            div.className = 'opcao-frete';
            div.innerHTML = `
                <div class="frete-info">
                    <div class="frete-nome">${opcao.name}</div>
                    <div class="frete-prazo">Prazo: ${opcao.delivery_time}</div>
                    ${opcao.details ? `<div style="font-size:0.8rem; color:#888; margin-top:2px;">${opcao.details}</div>` : ''}
                </div>
                <div class="frete-valor">R$ ${opcao.price.toFixed(2).replace('.', ',')}</div>
            `;
            
            div.onclick = () => selecionarFrete(opcao, div);
            container.appendChild(div);
            
            // Selecionar automaticamente a primeira op√ß√£o dispon√≠vel
            if (opcoes.indexOf(opcao) === 0) {
                selecionarFrete(opcao, div);
            }
        });
    }

    function selecionarFrete(opcao, elemento) {
        document.querySelectorAll('.opcao-frete').forEach(el => {
            el.classList.remove('selected');
        });
        
        elemento.classList.add('selected');
        freteSelecionado = opcao;
        
        // A taxa adicional j√° est√° inclu√≠da no pre√ßo do frete para Brasil
        // Para Franca e retirada, taxa adicional √© 0
        if (opcao.isFranca || opcao.id === 'retirada') {
            taxaAdicional = 0;
        }
        
        updateTotais();
    }

    function mostrarErroFrete(mensagem) {
        document.getElementById('frete-error').textContent = mensagem;
        document.getElementById('frete-error').style.display = 'block';
        document.getElementById('btn-calcular').disabled = false;
        document.getElementById('frete-loading').style.display = 'none';
    }

    // ENVIO PARA WHATSAPP COM LINK DE PAGAMENTO
    async function enviarPedidoWhatsApp() {
        // Validar dados
        const nome = document.getElementById('c-nome').value.trim();
        const email = document.getElementById('c-email').value.trim();
        const telefone = document.getElementById('c-tel').value.trim();
        const cep = document.getElementById('c-cep').value.trim();
        const numero = document.getElementById('c-num').value.trim();
        
        if(!nome || Object.keys(cart).length === 0) {
            alert("Por favor, preencha seu nome e adicione produtos.");
            return;
        }
        
        if (!email) {
            alert("Por favor, informe seu e-mail.");
            return;
        }
        
        if (!telefone) {
            alert("Por favor, informe seu telefone.");
            return;
        }
        
        if (!freteSelecionado) {
            alert("Por favor, selecione uma op√ß√£o de frete.");
            return;
        }
        
        if (freteSelecionado.id !== 'retirada') {
            if (!cep || !numero) {
                alert("Por favor, informe CEP e n√∫mero do endere√ßo.");
                return;
            }
        }
        
        // Gerar ID do pedido
        currentOrderId = 'PED' + Date.now().toString().slice(-6) + Math.floor(Math.random() * 100).toString().padStart(2, '0');
        
        // Calcular totais
        const subtotal = Object.values(cart).reduce((total, item) => total + (item.price * item.qty), 0);
        const freteValor = freteSelecionado.price;
        const total = subtotal + freteValor;
        
        // Construir mensagem para WhatsApp
        let msg = `*${CONFIG.LOJA_NOME}*\n`;
        msg += `*üõí NOVO PEDIDO - AGUARDANDO PAGAMENTO*\n`;
        msg += `*Pedido:* ${currentOrderId}\n`;
        msg += `*Data:* ${new Date().toLocaleDateString('pt-BR')} ${new Date().toLocaleTimeString('pt-BR').slice(0,5)}\n\n`;
        
        msg += `*üë§ DADOS DO CLIENTE:*\n`;
        msg += `Nome: ${nome}\n`;
        msg += `Telefone: ${telefone}\n`;
        msg += `E-mail: ${email}\n\n`;
        
        if (freteSelecionado.id !== 'retirada') {
            msg += `*üì¶ ENDERE√áO DE ENTREGA:*\n`;
            msg += `CEP: ${cep}\n`;
            
            if (enderecoCliente.rua) {
                msg += `Endere√ßo: ${enderecoCliente.rua}, ${numero}\n`;
                const complemento = document.getElementById('c-comp').value.trim();
                if (complemento) msg += `Complemento: ${complemento}\n`;
                if (enderecoCliente.bairro) msg += `Bairro: ${enderecoCliente.bairro}\n`;
                if (enderecoCliente.cidade) msg += `Cidade: ${enderecoCliente.cidade}\n`;
                if (enderecoCliente.estado) msg += `Estado: ${enderecoCliente.estado}\n`;
            }
            msg += `\n`;
        }
        
        msg += `*üöö OP√á√ÉO DE ENTREGA:*\n`;
        msg += `${freteSelecionado.name}\n`;
        msg += `Prazo: ${freteSelecionado.delivery_time}\n`;
        msg += `Valor: R$ ${freteSelecionado.price.toFixed(2).replace('.', ',')}\n`;
        
        if (freteSelecionado.details) {
            msg += `Obs: ${freteSelecionado.details}\n`;
        }
        
        if (freteSelecionado.id === 'retirada') {
            msg += `Local: ${CONFIG.LOJA_ENDERECO}\n\n`;
        }
        
        msg += `\n*üõçÔ∏è RESUMO DO PEDIDO:*\n`;
        msg += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
        Object.values(cart).forEach(i => {
            msg += `*${i.name}*\n`;
            msg += `Quantidade: ${i.qty} unidade(s)\n`;
            msg += `Valor unit√°rio: R$ ${i.price.toFixed(2).replace('.', ',')}\n`;
            msg += `Subtotal: R$ ${(i.price * i.qty).toFixed(2).replace('.', ',')}\n`;
            msg += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
        });
        
        msg += `\n*üí∞ VALORES:*\n`;
        msg += `Subtotal produtos: R$ ${subtotal.toFixed(2).replace('.', ',')}\n`;
        msg += `Frete: R$ ${freteSelecionado.price.toFixed(2).replace('.', ',')}\n`;
        
        if (taxaAdicional > 0 && freteSelecionado.id === 'brasil') {
            msg += `Taxa adicional: R$ ${taxaAdicional.toFixed(2).replace('.', ',')} (j√° inclu√≠da no frete)\n`;
        }
        
        msg += `*TOTAL DO PEDIDO: R$ ${total.toFixed(2).replace('.', ',')}*\n\n`;
        
        msg += `*üí≥ INFORMA√á√ïES DE PAGAMENTO:*\n`;
        msg += `Assim que recebermos este pedido, enviaremos o link de pagamento (Mercado Pago / Pix) para voc√™ finalizar a compra.\n\n`;
        
        msg += `üìç *Loja:* ${CONFIG.LOJA_ENDERECO}\n`;
        msg += `üìû *Contato:* ${CONFIG.LOJA_TELEFONE}\n\n`;
        
        msg += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
        msg += `*üìù PR√ìXIMOS PASSOS:*\n`;
        msg += `1Ô∏è‚É£ *Aguardar nosso contato com o link de pagamento*\n`;
        msg += `2Ô∏è‚É£ *Realizar o pagamento pelo link enviado*\n`;
        msg += `3Ô∏è‚É£ *Enviar o comprovante para este mesmo WhatsApp*\n`;
        msg += `4Ô∏è‚É£ *Seu pedido ser√° separado e enviado*\n`;
        msg += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
        
        // Codificar para URL
        const msgEncoded = encodeURIComponent(msg);
        
        // Abrir WhatsApp em nova aba
        window.open(`https://wa.me/${CONFIG.WHATSAPP_NUMBER}?text=${msgEncoded}`, '_blank', 'noopener,noreferrer');
        
        // Mostrar mensagem de confirma√ß√£o
        alert(`Pedido #${currentOrderId} gerado! Agora √© s√≥ aguardar nosso contato no WhatsApp com o link de pagamento.`);
        
        // Limpar carrinho ap√≥s envio
        setTimeout(() => {
            cart = {};
            freteSelecionado = null;
            taxaAdicional = 0;
            renderCartUI();
            updateTotais();
            toggleCart();
            
            // Limpar campos
            document.getElementById('c-nome').value = '';
            document.getElementById('c-email').value = '';
            document.getElementById('c-tel').value = '';
            document.getElementById('c-cep').value = '';
            document.getElementById('c-num').value = '';
            document.getElementById('c-comp').value = '';
            document.getElementById('cep-input').value = '';
            document.getElementById('opcoes-frete').innerHTML = '';
        }, 1000);
    }

    // STATUS DE PAGAMENTO
    function showPaymentStatus(type, title, message, details = null) {
        const statusDiv = document.getElementById('paymentStatus');
        const statusIcon = document.getElementById('statusIcon');
        const statusTitle = document.getElementById('statusTitle');
        const statusMessage = document.getElementById('statusMessage');
        const statusDetails = document.getElementById('statusDetails');
        const whatsappButton = document.getElementById('whatsappButton');
        const closeButton = document.getElementById('closeStatusButton');
        const processingSpinner = document.getElementById('processingSpinner');
        const orderNumber = document.getElementById('orderNumberDisplay');
        const importantNote = document.getElementById('importantNote');
        
        // Resetar
        statusDiv.className = 'payment-status';
        statusDiv.style.display = 'flex';
        
        switch(type) {
            case 'processing':
                statusDiv.classList.add('payment-processing');
                processingSpinner.style.display = 'block';
                statusIcon.style.display = 'none';
                statusTitle.textContent = title;
                statusMessage.textContent = message;
                whatsappButton.style.display = 'none';
                closeButton.style.display = 'none';
                orderNumber.style.display = 'none';
                importantNote.style.display = 'none';
                break;
                
            case 'success':
                statusDiv.classList.add('success');
                processingSpinner.style.display = 'none';
                statusIcon.style.display = 'block';
                statusIcon.innerHTML = '<i class="fas fa-check-circle"></i>';
                statusTitle.textContent = title;
                statusMessage.textContent = message;
                
                if (currentOrderId) {
                    orderNumber.textContent = `PEDIDO: ${currentOrderId}`;
                    orderNumber.style.display = 'block';
                }
                
                whatsappButton.style.display = 'none';
                closeButton.style.display = 'block';
                break;
                
            case 'error':
                statusDiv.classList.add('error');
                processingSpinner.style.display = 'none';
                statusIcon.style.display = 'block';
                statusIcon.innerHTML = '<i class="fas fa-times-circle"></i>';
                statusTitle.textContent = title;
                statusMessage.textContent = message;
                whatsappButton.style.display = 'none';
                closeButton.style.display = 'block';
                orderNumber.style.display = 'none';
                break;
                
            case 'whatsapp':
                statusDiv.classList.add('whatsapp');
                processingSpinner.style.display = 'none';
                statusIcon.style.display = 'block';
                statusIcon.innerHTML = '<i class="fab fa-whatsapp"></i>';
                statusTitle.textContent = title;
                statusMessage.textContent = message;
                
                if (currentOrderId) {
                    orderNumber.textContent = `PEDIDO: ${currentOrderId}`;
                    orderNumber.style.display = 'block';
                }
                
                importantNote.innerHTML = `
                    <strong>‚ö†Ô∏è ATEN√á√ÉO</strong><br>
                    1. Clique no bot√£o abaixo para abrir o WhatsApp<br>
                    2. O link de pagamento j√° est√° na mensagem pronta<br>
                    3. Ap√≥s pagar, envie o comprovante pelo WhatsApp
                `;
                importantNote.style.display = 'block';
                
                whatsappButton.style.display = 'none'; // Ser√° mostrado pelo bot√£o espec√≠fico
                closeButton.style.display = 'block';
                break;
        }
        
        // Fechar carrinho
        toggleCart();
    }

    function closePaymentStatus() {
        document.getElementById('paymentStatus').style.display = 'none';
        document.getElementById('whatsappButton').style.display = 'none';
    }

    function abrirWhatsAppPagamento() {
        // Esta fun√ß√£o ser√° chamada pelo bot√£o espec√≠fico
    }

    function abrirWhatsAppSuporte() {
        window.open(`https://wa.me/${CONFIG.WHATSAPP_SUPORTE}?text=Ol√°! Gostaria de informa√ß√µes sobre os produtos.`, '_blank', 'noopener,noreferrer');
    }

    function abrirInstagram() {
        window.open(CONFIG.INSTAGRAM_URL, '_blank', 'noopener,noreferrer');
    }

    function loadImageWithFallback(imgElement, productId, fallbackIndex) {
        const originalSrc = imgElement.src;
        
        imgElement.onload = function() {
            imgElement.classList.remove('img-loading');
        };
        
        imgElement.onerror = function() {
            const fallbackSrc = fallbackImages[fallbackIndex % fallbackImages.length];
            imgElement.src = fallbackSrc;
            
            imgElement.onerror = function() {
                const placeholder = document.createElement('div');
                placeholder.className = 'img-placeholder';
                placeholder.innerHTML = `
                    <i class="fas fa-shopping-bag"></i>
                    <div>${products.find(p => p.id === productId)?.name || 'Produto'}</div>
                    <small>Imagem n√£o dispon√≠vel</small>
                `;
                imgElement.parentNode.replaceChild(placeholder, imgElement);
            };
        };
        
        imgElement.classList.add('img-loading');
    }

    function toggleFAQ(el) {
        const ans = el.querySelector('.faq-answer');
        ans.style.display = ans.style.display === 'block' ? 'none' : 'block';
    }

    // INICIALIZA√á√ÉO
    document.addEventListener('DOMContentLoaded', function() {
        const cepInput = document.getElementById('cep-input');
        const telInput = document.getElementById('c-tel');
        
        if (cepInput) {
            cepInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 5) {
                    value = value.substring(0,5) + '-' + value.substring(5,8);
                }
                e.target.value = value;
            });
            
            cepInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calcularFreteReal();
                }
            });
        }
        
        if (telInput) {
            telInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length > 10) {
                    value = `(${value.substring(0,2)}) ${value.substring(2,7)}-${value.substring(7,11)}`;
                } else if (value.length > 6) {
                    value = `(${value.substring(0,2)}) ${value.substring(2,6)}-${value.substring(6)}`;
                } else if (value.length > 2) {
                    value = `(${value.substring(0,2)}) ${value.substring(2)}`;
                } else if (value.length > 0) {
                    value = `(${value}`;
                }
                e.target.value = value;
            });
        }
        
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        initStore();
    });
</script>

</body>

</html>
